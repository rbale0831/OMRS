<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/infoPage/css/register.css">
    <script src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons.js"></script>
  <link rel="stylesheet"
    href="https://maxst.icons8.com/vue-static/landings/line-awesome/font-awesome-line-awesome/css/all.min.css">
  <script src="https://kit.fontawesome.com/64cda4564b.js" crossorigin="anonymous"></script>
  <title>Meridan | <%= title %>
  </title>
</head>
<body>
    <section>
        <header class="header">
            <!-- <nav>
              <div class="logo">Meridian</div>
              <input type="checkbox" id='click'>
              <label for="click" class="menu-btn">
                <i class="fas fa-bars"></i>
              </label>
              <ul>
                <li><a href="#">Services</a></li>
                <li><a href="#">Advice</a></li>
                <li><a href="#">Company</a></li>
                <li><a href="#">Contact</a></li>
                <li><a class="login" href="/home/login">Login</a></li>
              </ul>
            </nav> -->
            <div class="wrapper">
              <nav>
                <input type="checkbox" id="show-menu">
                <label for="show-menu" class="menu-icon">
                  <i class="fas fa-bars"></i>
                </label>
                <div class="content">
                <div class="logo"><a href="#">Meridian</a></div>
                  <ul class="links">
                    <li><a href="/home">Home</a></li>
                    <li><a href="#">Services</a></li>
                    <li><a href="#">Advice</a></li>
                    <li><a href="#">Contact Us</a></li>
                    <li>
                      <a href="#" class="desktop-link">Login</a>
                      <input type="checkbox" id="show-features">
                      <label for="show-features">Login</label>
                      <ul>
                        <li><a href="/admin/login">Admin</a></li>
                        <li><a href="/hospital/login">Hospital</a></li>
                        <li><a href="/home/login">User</a></li>
                      </ul>
                    </li>
                  </ul>
                </div>
                <label for="show-search" class="search-icon">
                  
                </label>
              </nav>
            </div>
          </header>
    </section>
    <section class="regPage">
        <div class="header" id="head">Registration page </div>
         <div class="container">
             <!-- <div class="Enroll">Registration Form</div> -->
             <form action="">
                 <div class="user-details">
                     <div class="inputbox"> 
                         <span class="details">First Name </span>
                         <input id="fname" type="text"  required>
                         <div class="fname error"></div>
                     </div>
                     <div class="inputbox"> 
                         <span class="details">Last Name </span>
                         <input id="lname" type="text"  required>
                         <div class="lname error"></div>
                     </div>
                     <div class="inputbox"> 
                         <span class="details">Username</span>
                         <input id="uname" type="text"  required>
                         <div class="uname error"></div>
                     </div>
                     <div class="inputbox">  
                        <span class="details">Date Of Birth</span>
                        <input id="dob" type="date" required>
                        <div class="dob error"></div>
                    </div>
                    <div class="gender-details">
                      <span class="gender-title">Gender</span>
                      <div class="category">
                          <label for="male">
                            <input id="male" value="Male" type="radio" name="gender">
                            <span class="gender">Male</span>
                          </label>
                          <label for="female">
                            <input id="female" value="Female" type="radio" name='gender'>
                            <span class="gender">Female</span>
                         </label>
                          <label for="other">
                            <input id="other" value="Other" type="radio" name='gender'>
                            <span class="gender">Other</span>
                         </label>
                     </div>
                  </div>
                     <div class="inputbox">  
                         <span class="details">Address Line 1</span>
                         <input id="add1" type="address"  required>
                         <div class="add1 error"></div>
                     </div>
                     <div class="inputbox">  
                        <span class="details">Address Line 2</span>
                        <input id="add2" type="address"  required>
                        <div class="add2 error"></div>
                    </div>
                    <div class="inputbox">  
                        <span class="details">Locality</span>
                        <input id="locality" type="address"  required>
                        <div class="locality error"></div>
                    </div>
                    <div class="inputbox">  
                        <span class="details">District</span>
                        <input id="district" type="address"  required>
                        <div class="district error"></div>
                    </div>
                    <div class="inputbox">  
                        <span class="details">State</span>
                        <input id="state" type="address"  required>
                        <div class="state error"></div>
                    </div>
                    <div class="inputbox">  
                        <span class="details">Pincode</span>
                        <input id="pincode" type="address"  required>
                        <div class="pincode error"></div>
                    </div>
                    <div class="inputbox">  
                    
                      <select class="Select"  >
                        <option value="" disabled selected>Your Blood Group</option>
                        <option value="a+">A+</option>
                        <option value="a-"> A-</option>
                        <option value="b+ ">B+</option>
                        <option value="b- ">B-</option>
                        <option value="o+ ">O+</option>
                        <option value="o- ">O-</option>
                        <option value="ab+ ">AB+</option>
                        <option value="ab- ">AB-</option>
                      </select> 
                      <!-- <div class="berror"></div> -->


                  </div>
                  
                    <div class="inputbox">  
                        <span class="details">Occupation</span>
                        <input id="occupation" type="address"  required>
                        <div class="occupation error"></div>
                    </div>
                    <div class="inputbox">  
                        <span class="details">Primary Mobile No.</span>
                        <input id="pmn" type="string"  required>
                        <div class="pmn error"></div>
                    </div>
                    <div class="inputbox">  
                        <span class="details">Secondary Mobile No.</span>
                        <input id="smn" type="string" >
                    </div>
                    <div class="inputbox"> 
                      <span class="details">Email</span>
                      <input id="email" type="email"  required>
                      <div class="email error"></div>
                  </div>
                  <div class="inputbox">  
                    
                    <select class="Select"  >
                      <option value="" disabled selected>Your Preferd Language</option>
                      <option value="english">English</option>
                      <option value="hindi"> Hindi</option>
                      <option value="marathi">Marathi</option>
                    </select> 
                    <!-- <div class="berror"></div> -->


                </div>
                  <div class="inputbox">  
                      <span class="details">Password</span>
                      <input id="password" type="password"  required>
                      <div class="password error"></div>
                  </div>
                 </div>
                 <button id="btn" class="button">Create</button>
             </form>
        </div>
    </section>
    <br>
  <div class="footer-container">
    <div class="login-details">
    </div>
    <div class="footer">
      <div class="footer-container">
      </div>
      <div class="footer-heading footer-a">
        <h2 class="head">About Us</h2>
        <a href="#">Care Management</a>
        <a href="#">Patient Experience</a>
        <a href="#">Providers</a>
        <a href="#">Health Plans</a>
      </div>
      <div class="footer-heading footer-2">
        <h2 class="head">Services</h2>
        <a href="#">Healthcare Consulting</a>
        <a href="#">Enterprise Applications</a>
        <a href="#">Health Solution Enhancement</a>
        <a href="#">Dedicated Quality Assurance</a>
      </div>
      <div class="footer-heading footer-3">
        <h2 class="head">Social Media</h2>
        <a href="#">Instagram</a>
        <a href="#">Facebook</a>
        <a href="#">Youtube</a>
        <a href="#">Twitter</a>
      </div>
      <div class="footer-email-form">
        <h2 class="head">Join our Services</h2>
        <input type="email" placeholder="Enter Your Email" id="footer-email">
        <input type="submit" value=Sign-in id="footer-email-btn">
      </div>
    </div>
  </div>
  </section>
</body>
<script>
  const form = document.querySelector('form');
  const fname = document.getElementById('fname').value;
  const lname = document.getElementById('lname').value;
  const uname = document.getElementById('uname').value;
  const dob = document.getElementById('dob').value;
  const male = document.getElementById('male').value;
  const female = document.getElementById('female').value;
  const other = document.getElementById('other').value;
  const add1 = document.getElementById('add1').value;
  const add2 = document.getElementById('add2').value;
  const locality = document.getElementById('locality').value;
  const state = document.getElementById('state').value;
  const pincode = document.getElementById('pincode').value;
  // const  = document.getElementById('').value;
    // const unameError = document.querySelector('.uname.error');
    // const emailError = document.querySelector('.email.error');
    // const passwordError = document.querySelector('.password.error');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      // reset errors
      unameError.textContent = '';
      emailError.textContent = '';
      passwordError.textContent = '';

      // get values
      const fname = form.fname.value;
      const lname = form.lname.value;
      const uname = form.uname.value;
      const email = form.email.value;
      const password = form.password.value;
      const password = form.password.value;

      try {
        const res = await fetch('/home/signup', { 
          method: 'POST', 
          body: JSON.stringify({ fname, lname, uname, email, password }),
          headers: {'Content-Type': 'application/json'}
        });
        const data = await res.json();
        console.log(data);
        if (data.errors) {
          unameError.textContent = data.errors.uname;
          emailError.textContent = data.errors.email;
          passwordError.textContent = data.errors.password;
        }
        if (data.user) {
          location.assign('/home/login');
        }
      }
      catch (err) {
        console.log(err);
      }
    });
</script>
</html>